<div class="modal-header bg-dark text-light">
    <h5 class="modal-title" id="exampleModalLabel">
        {{ title }}
    </h5>
    <button type="button" class="btn-close text-light" data-bs-dismiss="modal" aria-label="Close"
        (click)="hideConfirmationModal()"></button>
</div>


<div class="modal-body bg-dark text-light">

    <form class="row was-validated needs-validation" *ngIf="user!=undefined">
        <div class="col-3 ps-md-5">
            <div class="card d-flex align-items-center ">
                <img *ngIf="!user?.avatar" src="assets/images/noimage.png" class="card-img-top img-card-gallery">
                <img *ngIf="user?.avatar" [src]="user.avatar.url" class="card-img-top img-card-gallery">
                <div class="card-body text-center">
                    <button type="button" class="btn btn-primary btn-sm me-1" (click)="selectAvatar()">انتخاب</button>
                </div>
            </div>
        </div>
        <div class="col-9">
            <div *ngIf="user?.id" class="row row-hover mb-3 px-md-4 py-1">
                <div class="col text-success">
                    شناسه:
                    {{ user.id }}
                </div>
            </div>

            <!-- public role: Role;
            public isActive: boolean;
            public mobileNumberIsVerified: boolean;
            public emailIsVerified: boolean;
            public avatar: ImageAsset;
            public stores:Store[]; -->

            <div class="row row-hover mb-3 px-md-4 py-1">
                <div class="col">
                    <label class="form-label">نام کاربری:</label>
                    <input [(ngModel)]="user.userName" name="userName" type="text" class="form-control" required>
                    <div class="invalid-feedback">لطفاً نام کاربری را وارد نمایید</div>
                </div>
            </div>

            <div class="row row-hover mb-3 px-md-4 py-1">
                <div class="col">
                    <label class="form-label">نام:</label>
                    <input [(ngModel)]="user.firstName" name="firstName" type="text" class="form-control" required>
                    <div class="invalid-feedback">لطفاً نام را وارد نمایید</div>
                </div>
                <div class="col">
                    <label class="form-label">نام خانوادگی:</label>
                    <input [(ngModel)]="user.lastName" name="lastName" type="text" class="form-control" required>
                    <div class="invalid-feedback">لطفاً نام خانوادگی را وارد نمایید</div>
                </div>
            </div>

            <div class="row row-hover mb-3 px-md-4 py-1">
                <div class="col">
                    <label class="form-label">کد ملی:</label>
                    <input [(ngModel)]="user.nationalCode" name="sellDateTime" type="text" class="form-control">
                </div>
            </div>

            <div class="row row-hover mb-3 px-md-4 py-1">
                <div class="col">
                    <div class="card mb-2">
                        <div class="card-header d-flex align-items-center">
                            <span class="me-2">
                                فروشگاه‌ها:
                            </span>
                            <!--  -->
                            <button type="button" class="btn btn-primary btn-sm me-1"
                            (click)="onClickAddStore()">درج
                                جدید</button>
                        </div>
                        <div *ngIf="user.stores.length > 0" class="p-3">

                            <span *ngFor="let store of user.stores" class="badge bg-success me-2">
                                <!--  -->
                                <span class="align-middle pe-1">
                                    {{store.name}}
                                </span>
                                <mat-icon class="small btn btn-light text-dark p-0 align-middle"
                                (click)="onCloseStore(store)">
                                    close
                                </mat-icon>
   
                            </span>

                        </div>
                    </div>
                </div>

            </div>

        </div>
    </form>
</div>

<div class="modal-footer bg-dark text-light">
    <div class="text-right">
        <button type="submit" class="btn btn-sm btn-primary" (click)="onConfirm()">
            تایید
        </button>
        <button type="button" class="btn btn-sm btn-secondary ms-1" (click)="onCancel()">
            انصراف
        </button>
    </div>
</div>